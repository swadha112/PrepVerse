/* ==========================
   Dashboard — Clean Styles
   (de-duplicated & organized)
   ========================== */

/* Layout shells */
.dashboard-container { min-height: 100vh; padding: 24px; }
.dashboard-content   { max-width: 1400px; margin: 0 auto; padding: 0 12px; }

/* Header */
.dashboard-header  { text-align: center; margin-bottom: 32px; color: white; }
.dashboard-title   { font-size: 42px; font-weight: 800; margin: 0 0 8px; background: linear-gradient(135deg,#fff 0%,#f7fafc 100%); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
.dashboard-subtitle{ font-size: 18px; opacity: .9; margin: 0; }

/* Grid */
.dashboard-grid.grid-2 { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 24px; align-items: start; }
.dashboard-grid .span-2 { grid-column: 1 / -1; }
.vstack { display:flex; flex-direction:column; gap:16px; }

/* Responsive */
@media (max-width: 1100px){
  .dashboard-grid.grid-2 { grid-template-columns: 1fr; }
  .dashboard-grid .span-2 { grid-column: 1 / 1; }
}

/* Card base */
.pv-card { background: var(--pv-gradient-glass); backdrop-filter: blur(10px); border:1px solid var(--pv-glass-border); border-radius: var(--pv-radius-xl); box-shadow: var(--pv-shadow-glass); transition: transform .25s ease, box-shadow .25s ease, border-color .2s ease; overflow:hidden; }
.pv-card:hover { transform: translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,.18); border-color: color-mix(in srgb, var(--pv-royal-400), var(--pv-glass-border) 60%); }

/* Card headings */
.card-header{ display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:20px; }
.card-header-simple{ margin-bottom:20px; }
.card-title{ font-size:20px; font-weight:700; color:var(--pv-ink); margin:0 0 4px; }
.card-title-small{ font-size:16px; font-weight:600; color:var(--pv-ink); margin:0 0 12px; }
.card-subtitle{ font-size:14px; color:var(--pv-muted); margin:0; }

/* =================
   Today’s Challenge
   ================= */
.challenge-card{ padding:24px; }
.difficulty-badge{ padding:6px 12px; background:var(--pv-royal-100); color:var(--pv-royal-800); border-radius:8px; font-size:12px; font-weight:600; border:1px solid var(--pv-royal-200); }
.challenge-content{ display:flex; justify-content:space-between; align-items:center; padding:20px; background:var(--pv-royal-50); border-radius:16px; border:1px solid var(--pv-royal-100); }
.challenge-info{ flex:1; }
.challenge-title{ font-weight:700; font-size:18px; color:var(--pv-royal-800); margin:0 0 8px; }
.challenge-tags{ display:flex; gap:8px; flex-wrap:wrap; }
.tag{ padding:4px 8px; background:var(--pv-royal-200); color:var(--pv-royal-800); border-radius:6px; font-size:12px; font-weight:500; }
.challenge-btn{ margin-left:20px; }

/* =========
   Track Card
   ========= */
.track-card{ padding:24px; }
.units-container{ display:flex; flex-direction:column; gap:16px; }
.unit-item{ padding:20px; border-radius:16px; border:2px solid var(--pv-border); display:flex; justify-content:space-between; align-items:center; transition: var(--pv-transition); }
.unit-item.unlocked{ background:linear-gradient(135deg,#f8fafc 0%,#f1f5f9 100%); border-color:var(--pv-royal-200); }
.unit-item.locked{ background:linear-gradient(135deg,#f9fafb 0%,#f3f4f6 100%); opacity:.7; }
.unit-content{ flex:1; }
.unit-title{ font-weight:600; font-size:16px; margin:0 0 4px; }
.unit-item.unlocked .unit-title{ color:var(--pv-ink); }
.unit-item.locked   .unit-title{ color:var(--pv-muted); }
.unit-desc{ font-size:14px; color:var(--pv-muted); margin:0 0 12px; }
.progress-bar{ width:100%; height:6px; background:rgba(0,0,0,.1); border-radius:3px; overflow:hidden; margin-bottom:4px; }
.progress-fill{ height:100%; border-radius:3px; transition: width .3s ease; }
.unit-item.unlocked .progress-fill{ background: var(--pv-gradient-royal-light); }
.unit-item.locked   .progress-fill{ background: linear-gradient(90deg,#cbd5e0 0%,#a0aec0 100%); }
.progress-text{ font-size:12px; color:var(--pv-muted); }
.unit-btn{ margin-left:16px; }

/* ======
   Streak
   ====== */
.streak-card{ padding:24px; }
.streak-content{ display:flex; align-items:center; gap:20px; padding:20px; background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%); border-radius:16px; border:1px solid #fcd34d; }
.streak-circle{ width:60px; height:60px; border-radius:50%; background:var(--pv-gradient-royal-light); display:flex; align-items:center; justify-content:center; color:white; font-size:24px; font-weight:700; position:relative; }
.streak-ring{ position:absolute; inset:-4px; border-radius:50%; background:conic-gradient(var(--pv-royal-500) var(--progress), transparent 0deg); padding:4px; z-index:-1; animation: pvGlowPulse 3s ease-in-out infinite; }
.streak-ring::after{ content:""; width:100%; height:100%; border-radius:50%; background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%); }
.streak-number{ z-index:1; }
.streak-info{ flex:1; }
.streak-current{ font-weight:700; color:#92400e; font-size:16px; margin-bottom:4px; }
.streak-best{ font-size:14px; color:#b45309; }

/* ===========
   Leaderboard
   =========== */
.leaderboard-card{ padding:24px; }
.leaderboard-list{ display:flex; flex-direction:column; gap:12px; }
.leaderboard-item{ display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-radius:12px; border-bottom:1px dashed var(--pv-border); }
.leaderboard-item.user{ background:var(--pv-royal-50); border:2px solid var(--pv-royal-200); }
.leaderboard-left{ display:flex; align-items:center; gap:12px; }
.rank-badge{ width:28px; height:28px; border-radius:50%; background:var(--pv-border); display:flex; align-items:center; justify-content:center; color:var(--pv-muted); font-weight:700; font-size:12px; }
.rank-badge.top-three{ background:var(--pv-gradient-royal-light); color:white; }
.player-name{ font-weight:500; }
.leaderboard-item.user .player-name{ font-weight:700; color:var(--pv-royal-800); }
.player-score{ font-weight:700; }
.leaderboard-item.user .player-score{ color:var(--pv-royal-800); }
.lb-avatar{ width:24px; height:24px; border-radius:999px; object-fit:cover; margin-right:.5rem; }

/* ========
   Buttons
   ======== */
.pv-btn-royal{ background:var(--pv-gradient-royal-light); border:0; color:#fff; padding:10px 14px; border-radius:12px; font-weight:700; }
.pv-btn-royal:hover{ filter:brightness(1.05); }
.pv-btn-ghost{ background:transparent; border:1px solid var(--pv-border); color:var(--pv-ink); padding:10px 14px; border-radius:12px; font-weight:700; transition: background .2s, border-color .2s, transform .1s; }
.pv-btn-ghost:hover{ background:var(--pv-card); border-color: color-mix(in srgb, var(--pv-ink), var(--pv-border) 70%); transform: translateY(-1px); }

/* ==================
   LeetCode Widget UI
   ================== */
.lc-card{ padding:16px; }
.lc-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.lc-pill{ font-size:12px; color:var(--pv-muted); background:var(--pv-card); border:1px solid var(--pv-border); border-radius:999px; padding:6px 10px; }
.lc-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; }
.lc-col{ flex:1; min-width:0; }
.lc-avatar{ width:48px; height:48px; border-radius:50%; background:#ccc; object-fit:cover; }
.lc-name{ font-weight:800; color:var(--pv-ink); }
.lc-sub{ color:var(--pv-muted); font-size:12px; }
.lc-status{ font-size:12px; font-weight:700; display:flex; align-items:center; gap:6px; opacity:.9; }
.lc-status .dot{ width:8px; height:8px; border-radius:50%; background:#22c55e; box-shadow:0 0 0 0 rgba(34,197,94,.6); animation: lc-pulse 2.5s ease-out infinite; }
.lc-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-top:8px; }
.lc-stat{ border:1px solid var(--pv-border); background:var(--pv-card); border-radius:12px; padding:12px; min-height:68px; transition: transform .15s ease, box-shadow .2s ease; }
.lc-stat:hover{ transform: translateY(-2px); box-shadow: var(--pv-shadow, 0 8px 24px rgba(0,0,0,.10)); }
.lc-stat-label{ font-size:12px; color:var(--pv-muted); }
.lc-stat-value{ font-size:20px; font-weight:800; color:var(--pv-ink); }
.lc-actions{ display:flex; justify-content:flex-end; margin-top:12px; }

/* optional solved-lists */
.lc-qblock{ margin-top:12px; border:1px solid var(--pv-border); border-radius:12px; background:var(--pv-card); }
.lc-qhdr{ width:100%; display:flex; justify-content:space-between; align-items:center; padding:10px 12px; font-weight:700; background:transparent; border:0; border-radius:12px; cursor:pointer; }
.lc-qhdr:hover{ background: color-mix(in srgb, var(--pv-card), var(--pv-ink) 6%); }
.lc-qul{ list-style:none; margin:0; padding:4px 10px 10px; max-height:240px; overflow:auto; }
.lc-qli{ display:flex; justify-content:space-between; align-items:center; gap:8px; padding:6px 4px; }
.lc-qli a{ color:var(--pv-ink); text-decoration:none; }
.lc-qli a:hover{ text-decoration:underline; }
.lc-qli .tag{ font-size:11px; padding:2px 8px; border-radius:999px; border:1px solid var(--pv-border); }
.lc-qli .tag.easy{ background:rgba(16,185,129,.12); }
.lc-qli .tag.medium{ background:rgba(245,158,11,.12); }
.lc-qli .tag.hard{ background:rgba(239,68,68,.12); }
.chev{ transition: transform .2s ease; }
.chev.open{ transform: rotate(180deg); }

/* =============
   Donut (stats)
   ============= */
.donut-card{ display:flex; flex-direction:column; gap:10px; align-items:center; padding:10px 6px; }
.donut-wrap{ display:grid; grid-template-columns:auto; justify-items:center; gap:8px; transform: translateZ(0); }
.donut-svg{ overflow:visible; animation: pvFloat 10s ease-in-out infinite; }
.donut-track{ stroke: rgba(255,255,255,.12); }
.seg-easy,.seg-medium,.seg-hard{ stroke-linecap:round; stroke-width:14; opacity:1; }
.seg-easy{   stroke:#22c55e; filter: drop-shadow(0 2px 6px rgba(34,197,94,.25));  animation: pvArcPop .6s ease both .10s; }
.seg-medium{ stroke:#eab308; filter: drop-shadow(0 2px 6px rgba(234,179,8,.28)); animation: pvArcPop .6s ease both .25s; }
.seg-hard{   stroke:#ef4444; filter: drop-shadow(0 2px 6px rgba(239,68,68,.28)); animation: pvArcPop .6s ease both .40s; }
.donut-center{ fill: var(--pv-text,#e8ecf3); font-weight:700; font-size:18px; transition: transform .2s ease, text-shadow .2s ease, opacity .2s ease; text-shadow: 0 1px 0 rgba(255,255,255,.35), 0 0 22px rgba(99,102,241,.25); }
.donut-wrap:hover .donut-center{ transform: scale(1.04); opacity:.95; }
.donut-legend{ display:flex; gap:16px; font-size:12px; opacity:.9; }
.donut-legend .dot{ display:inline-block; width:10px; height:10px; border-radius:50%; margin-right:6px; transition: transform .2s ease, box-shadow .2s ease; }
.donut-legend .dot.easy{ background:#22c55e; }
.donut-legend .dot.med { background:#eab308; }
.donut-legend .dot.hard{ background:#ef4444; }
.donut-legend .dot.easy:hover{ transform:scale(1.15); box-shadow:0 0 0 6px rgba(34,197,94,.10); }
.donut-legend .dot.med:hover { transform:scale(1.15); box-shadow:0 0 0 6px rgba(234,179,8,.12); }
.donut-legend .dot.hard:hover{ transform:scale(1.15); box-shadow:0 0 0 6px rgba(239,68,68,.12); }

/* Skeletons */
.shimmer{ position:relative; overflow:hidden; background: color-mix(in srgb, var(--pv-card), var(--pv-ink) 5%); }
.shimmer::after{ content:""; position:absolute; inset:0; background: linear-gradient(90deg,transparent,color-mix(in srgb,#fff,var(--pv-card) 70%),transparent); transform: translateX(-100%); animation: shimmer 1.2s infinite; opacity:.4; }
.line{ height:12px; border-radius:8px; }
.line.m8{ margin-top:8px; }
.w-40{ width:40%; } .w-32{ width:32%; } .w-24{ width:24%; } .w-20{ width:20%; } .w-16{ width:16%; }
.chip{ height:24px; border-radius:999px; }

/* Animations */
@keyframes pvGlowPulse{ 0%,100%{ box-shadow:0 0 0 0 rgba(59,130,246,0); } 50%{ box-shadow:0 0 18px 4px rgba(59,130,246,.25); } }
@keyframes pvFloat{ 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
@keyframes pvArcPop{ from{opacity:0;stroke-width:8} to{opacity:1;stroke-width:14} }
@keyframes lc-pulse{ 0%{box-shadow:0 0 0 0 rgba(34,197,94,.6)} 70%{box-shadow:0 0 0 10px rgba(34,197,94,0)} 100%{box-shadow:0 0 0 0 rgba(34,197,94,0)} }
@keyframes shimmer{ 100%{ transform: translateX(100%); } }